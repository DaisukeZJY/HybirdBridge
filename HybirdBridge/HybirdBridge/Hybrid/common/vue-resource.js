(function(l,h){"object"===typeof exports&&"undefined"!==typeof module?module.exports=h():"function"===typeof define&&define.amd?define(h):l.VueResource=h()})(this,function(){function l(a){this.state=2;this.value=void 0;this.deferred=[];var b=this;try{a(function(a){b.resolve(a)},function(a){b.reject(a)})}catch(c){b.reject(c)}}function h(a,b){this.promise=a instanceof Promise?a:new Promise(a.bind(b));this.context=b}function T(a,b){return O(a,b)}function v(a){return a?a.replace(/^\s*|\s*$/g,""):""}function G(a){return a?
a.toLowerCase():""}function z(a){return"string"===typeof a}function t(a){return"function"===typeof a}function u(a){return null!==a&&"object"===typeof a}function E(a){return u(a)&&Object.getPrototypeOf(a)==Object.prototype}function w(a,b,c){var d=h.resolve(a);return 2>arguments.length?d:d.then(b,c)}function P(a,b,c){c=c||{};t(c)&&(c=c.call(b));return H(a.bind({$vm:b,$options:c}),a,{$options:c})}function r(a,b){var c;if(x(a))for(c=0;c<a.length;c++)b.call(a[c],a[c],c);else if(u(a))for(c in a)U.call(a,
c)&&b.call(a[c],a[c],c);return a}function H(a){I.call(arguments,1).forEach(function(b){J(a,b,!0)});return a}function V(a){I.call(arguments,1).forEach(function(b){for(var c in b)void 0===a[c]&&(a[c]=b[c])});return a}function W(a){I.call(arguments,1).forEach(function(b){J(a,b)});return a}function J(a,b,c){for(var d in b)c&&(E(b[d])||x(b[d]))?(E(b[d])&&!E(a[d])&&(a[d]={}),x(b[d])&&!x(a[d])&&(a[d]=[]),J(a[d],b[d],c)):void 0!==b[d]&&(a[d]=b[d])}function X(a,b,c){a=Y(a);b=a.expand(b);c&&c.push.apply(c,
a.vars);return b}function Y(a){var b="+#./;?&".split(""),c=[];return{vars:c,expand:function(d){return a.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(a,f,g){if(f){var k=null,A=[];-1!==b.indexOf(f.charAt(0))&&(k=f.charAt(0),f=f.substr(1));f.split(/,/g).forEach(function(a){a=/([^:\*]*)(?::(\d+)|(\*))?/.exec(a);A.push.apply(A,Z(d,k,a[1],a[2]||a[3]));c.push(a[1])});return k&&"+"!==k?(a=",","?"===k?a="&":"#"!==k&&(a=k),(0!==A.length?k:"")+A.join(a)):A.join(",")}return Q(g)})}}}function Z(a,b,c,d){var e=
a[c],f=[];if(B(e)&&""!==e)if("string"===typeof e||"number"===typeof e||"boolean"===typeof e)e=e.toString(),d&&"*"!==d&&(e=e.substring(0,parseInt(d,10))),f.push(C(b,e,K(b)?c:null));else if("*"===d)Array.isArray(e)?e.filter(B).forEach(function(a){f.push(C(b,a,K(b)?c:null))}):Object.keys(e).forEach(function(a){B(e[a])&&f.push(C(b,e[a],a))});else{var g=[];Array.isArray(e)?e.filter(B).forEach(function(a){g.push(C(b,a))}):Object.keys(e).forEach(function(a){B(e[a])&&(g.push(encodeURIComponent(a)),g.push(C(b,
e[a].toString())))});K(b)?f.push(encodeURIComponent(c)+"="+g.join(",")):0!==g.length&&f.push(g.join(","))}else";"===b?f.push(encodeURIComponent(c)):""!==e||"&"!==b&&"?"!==b?""===e&&f.push(""):f.push(encodeURIComponent(c)+"=");return f}function B(a){return void 0!==a&&null!==a}function K(a){return";"===a||"&"===a||"?"===a}function C(a,b,c){b="+"===a||"#"===a?Q(b):encodeURIComponent(b);return c?encodeURIComponent(c)+"="+b:b}function Q(a){return a.split(/(%[0-9A-Fa-f]{2})/g).map(function(a){/%[0-9A-Fa-f]/.test(a)||
(a=encodeURI(a));return a}).join("")}function m(a,b){var c=this||{},d=a,e;z(a)&&(d={url:a,params:b});d=H({},m.options,c.$options,d);m.transforms.forEach(function(a){z(a)&&(a=m.transform[a]);t(a)&&(e=$(a,e,c.$vm))});return e(d)}function $(a,b,c){return function(d){return a.call(c,d,b)}}function R(a,b,c){var d=x(b),e=E(b),f;r(b,function(b,k){f=u(b)||x(b);c&&(k=c+"["+(e||f?k:"")+"]");!c&&d?a.add(b.name,b.value):f?R(a,b,k):a.add(k,b)})}function aa(a,b){b((a.client||(L?ba:ca))(a))}function y(a,b){return Object.keys(a).reduce(function(a,
d){return G(b)===G(d)?d:a},null)}function da(a){return new h(function(b){var c=new FileReader;c.readAsText(a);c.onload=function(){b(c.result)}})}function p(a){var b=this||{},c=ea(b.$vm);V(a||{},b.$options,p.options);p.interceptors.forEach(function(a){z(a)&&(a=p.interceptor[a]);t(a)&&c.use(a)});return c(new F(a)).then(function(a){return a.ok?a:h.reject(a)},function(a){a instanceof Error&&"undefined"!==typeof console&&console.error(a);return h.reject(a)})}function M(a,b,c,d){var e=this||{},f={};c=s({},
M.actions,c);r(c,function(c,k){c=H({url:a,params:s({},b)},d,c);f[k]=function(){var a=e.$http||p,b=arguments,d=s({},c),f={},k;switch(b.length){case 2:f=b[0];k=b[1];break;case 1:/^(POST|PUT|PATCH)$/i.test(d.method)?k=b[0]:f=b[0];break;case 0:break;default:throw"Expected up to 2 arguments [params, body], got "+b.length+" arguments";}d.body=k;d.params=s({},d.params,f);return a(d)}});return f}function N(a){N.installed||(fa(a),a.url=m,a.http=p,a.resource=M,a.Promise=h,Object.defineProperties(a.prototype,
{$url:{get:function(){return P(a.url,this,this.$options.url)}},$http:{get:function(){return P(a.http,this,this.$options.http)}},$resource:{get:function(){return a.resource.bind(this)}},$promise:{get:function(){var b=this;return function(c){return new a.Promise(c,b)}}}}))}l.reject=function(a){return new l(function(b,c){c(a)})};l.resolve=function(a){return new l(function(b,c){b(a)})};l.all=function(a){return new l(function(b,c){function d(c){return function(d){f[c]=d;e+=1;e===a.length&&b(f)}}var e=
0,f=[];0===a.length&&b(f);for(var g=0;g<a.length;g+=1)l.resolve(a[g]).then(d(g),c)})};l.race=function(a){return new l(function(b,c){for(var d=0;d<a.length;d+=1)l.resolve(a[d]).then(b,c)})};var n=l.prototype;n.resolve=function(a){var b=this;if(2===b.state){if(a===b)throw new TypeError("Promise settled with itself.");var c=!1;try{var d=a&&a.then;if(null!==a&&"object"===typeof a&&"function"===typeof d){d.call(a,function(a){c||b.resolve(a);c=!0},function(a){c||b.reject(a);c=!0});return}}catch(e){c||b.reject(e);
return}b.state=0;b.value=a;b.notify()}};n.reject=function(a){if(2===this.state){if(a===this)throw new TypeError("Promise settled with itself.");this.state=1;this.value=a;this.notify()}};n.notify=function(){var a=this;T(function(){if(2!==a.state)for(;a.deferred.length;){var b=a.deferred.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0===a.state?"function"===typeof c?e(c.call(void 0,a.value)):e(a.value):1===a.state&&("function"===typeof d?e(d.call(void 0,a.value)):b(a.value))}catch(f){b(f)}}})};n.then=function(a,
b){var c=this;return new l(function(d,e){c.deferred.push([a,b,d,e]);c.notify()})};n.catch=function(a){return this.then(void 0,a)};"undefined"===typeof Promise&&(window.Promise=l);h.all=function(a,b){return new h(Promise.all(a),b)};h.resolve=function(a,b){return new h(Promise.resolve(a),b)};h.reject=function(a,b){return new h(Promise.reject(a),b)};h.race=function(a,b){return new h(Promise.race(a),b)};n=h.prototype;n.bind=function(a){this.context=a;return this};n.then=function(a,b){a&&a.bind&&this.context&&
(a=a.bind(this.context));b&&b.bind&&this.context&&(b=b.bind(this.context));return new h(this.promise.then(a,b),this.context)};n.catch=function(a){a&&a.bind&&this.context&&(a=a.bind(this.context));return new h(this.promise.catch(a),this.context)};n.finally=function(a){return this.then(function(b){a.call(this);return b},function(b){a.call(this);return Promise.reject(b)})};var U={}.hasOwnProperty,I=[].slice,S=!1,O,L="undefined"!==typeof window,fa=function(a){var b=a.config;O=a.nextTick;S=b.debug||!b.silent},
x=Array.isArray,s=Object.assign||W;m.options={url:"",root:null,params:{}};m.transform={template:function(a){var b=[],c=X(a.url,a.params,b);b.forEach(function(b){delete a.params[b]});return c},query:function(a,b){var c=Object.keys(m.options.params),d={},e=b(a);r(a.params,function(a,b){-1===c.indexOf(b)&&(d[b]=a)});(d=m.params(d))&&(e+=(-1==e.indexOf("?")?"?":"&")+d);return e},root:function(a,b){var c=b(a);if(z(a.root)&&!/^(https?:)?\//.test(c)){var d;d=(d=a.root)?d.replace(/[/]+$/,""):d;c=d+"/"+c}return c}};
m.transforms=["template","query","root"];m.params=function(a){var b=[],c=encodeURIComponent;b.add=function(a,b){t(b)&&(b=b());null===b&&(b="");this.push(c(a)+"="+c(b))};R(b,a);return b.join("&").replace(/%20/g,"+")};m.parse=function(a){var b=document.createElement("a");document.documentMode&&(b.href=a,a=b.href);b.href=a;return{href:b.href,protocol:b.protocol?b.protocol.replace(/:$/,""):"",port:b.port,host:b.host,hostname:b.hostname,pathname:"/"===b.pathname.charAt(0)?b.pathname:"/"+b.pathname,search:b.search?
b.search.replace(/^\?/,""):"",hash:b.hash?b.hash.replace(/^#/,""):""}};var ga=function(a){return new h(function(b){var c=new XDomainRequest,d=function(d){d=d.type;var f=0;"load"===d?f=200:"error"===d&&(f=500);b(a.respondWith(c.responseText,{status:f}))};a.abort=function(){return c.abort()};c.open(a.method,a.getUrl());a.timeout&&(c.timeout=a.timeout);c.onload=d;c.onabort=d;c.onerror=d;c.ontimeout=d;c.onprogress=function(){};c.send(a.getBody())})},ha=L&&"withCredentials"in new XMLHttpRequest,ia=function(a){return new h(function(b){var c=
a.jsonp||"callback",d=a.jsonpCallback||"_jsonp"+Math.random().toString(36).substr(2),e=null,f,g;f=function(c){c=c.type;var f=0;"load"===c&&null!==e?f=200:"error"===c&&(f=500);f&&window[d]&&(delete window[d],document.body.removeChild(g));b(a.respondWith(e,{status:f}))};window[d]=function(a){e=JSON.stringify(a)};a.abort=function(){f({type:"abort"})};a.params[c]=d;a.timeout&&setTimeout(a.abort,a.timeout);g=document.createElement("script");g.src=a.getUrl();g.type="text/javascript";g.async=!0;g.onload=
f;g.onerror=f;document.body.appendChild(g)})},ba=function(a){return new h(function(b){var c=new XMLHttpRequest,d=function(d){var f=a.respondWith("response"in c?c.response:c.responseText,{status:1223===c.status?204:c.status,statusText:1223===c.status?"No Content":v(c.statusText)});r(v(c.getAllResponseHeaders()).split("\n"),function(a){f.headers.append(a.slice(0,a.indexOf(":")),a.slice(a.indexOf(":")+1))});b(f)};a.abort=function(){return c.abort()};a.progress&&("GET"===a.method?c.addEventListener("progress",
a.progress):/^(POST|PUT)$/i.test(a.method)&&c.upload.addEventListener("progress",a.progress));c.open(a.method,a.getUrl(),!0);a.timeout&&(c.timeout=a.timeout);a.responseType&&"responseType"in c&&(c.responseType=a.responseType);if(a.withCredentials||a.credentials)c.withCredentials=!0;a.crossOrigin||a.headers.set("X-Requested-With","XMLHttpRequest");a.headers.forEach(function(a,b){c.setRequestHeader(b,a)});c.onload=d;c.onabort=d;c.onerror=d;c.ontimeout=d;c.send(a.getBody())})},ca=function(a){var b=require("got");
return new h(function(c){var d=a.getUrl(),e=a.getBody(),f=a.method,g={},k;a.headers.forEach(function(a,b){g[b]=a});b(d,{body:e,method:f,headers:g}).then(k=function(b){var d=a.respondWith(b.body,{status:b.statusCode,statusText:v(b.statusMessage)});r(b.headers,function(a,b){d.headers.set(b,a)});c(d)},function(a){return k(a.response)})})},ea=function(a){function b(b){return new h(function(g){function k(){e=c.pop();t(e)?e.call(a,b,h):("undefined"!==typeof console&&S&&console.warn("[VueResource warn]: "+
("Invalid interceptor of type "+typeof e+", must be a function")),h())}function h(b){if(t(b))d.unshift(b);else if(u(b)){d.forEach(function(c){b=w(b,function(b){return c.call(a,b)||b})});w(b,g);return}k()}k()},a)}var c=[aa],d=[],e;u(a)||(a=null);b.use=function(a){c.push(a)};return b},q=function(a){var b=this;this.map={};r(a,function(a,d){return b.append(d,a)})};q.prototype.has=function(a){return null!==y(this.map,a)};q.prototype.get=function(a){return(a=this.map[y(this.map,a)])?a.join():null};q.prototype.getAll=
function(a){return this.map[y(this.map,a)]||[]};q.prototype.set=function(a,b){var c=this.map,d;d=y(this.map,a)||a;if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");d=v(d);c[d]=[v(b)]};q.prototype.append=function(a,b){var c=this.map[y(this.map,a)];c?c.push(v(b)):this.set(a,b)};q.prototype.delete=function(a){delete this.map[y(this.map,a)]};q.prototype.deleteAll=function(){this.map={}};q.prototype.forEach=function(a,b){var c=this;r(this.map,function(d,
e){r(d,function(d){return a.call(b,d,e,c)})})};var D=function(a,b){var c=b.headers,d=b.status,e=b.statusText;this.url=b.url;this.ok=200<=d&&300>d;this.status=d||0;this.statusText=e||"";this.headers=new q(c);this.body=a;z(a)?this.bodyText=a:"undefined"!==typeof Blob&&a instanceof Blob&&(this.bodyBlob=a,0===a.type.indexOf("text")||-1!==a.type.indexOf("json"))&&(this.bodyText=da(a))};D.prototype.blob=function(){return w(this.bodyBlob)};D.prototype.text=function(){return w(this.bodyText)};D.prototype.json=
function(){return w(this.text(),function(a){return JSON.parse(a)})};Object.defineProperty(D.prototype,"data",{get:function(){return this.body},set:function(a){this.body=a}});var F=function(a){this.body=null;this.params={};var b;b=(b=a.method||"GET",b.toUpperCase());s(this,a,{method:b});this.headers instanceof q||(this.headers=new q(this.headers))};F.prototype.getUrl=function(){return m(this)};F.prototype.getBody=function(){return this.body};F.prototype.respondWith=function(a,b){return new D(a,s(b||
{},{url:this.getUrl()}))};n={"Content-Type":"application/json;charset=utf-8"};p.options={};p.headers={put:n,post:n,patch:n,delete:n,common:{Accept:"application/json, text/plain, */*"},custom:{}};p.interceptor={before:function(a,b){t(a.before)&&a.before.call(this,a);b()},method:function(a,b){a.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(a.method)&&(a.headers.set("X-HTTP-Method-Override",a.method),a.method="POST");b()},jsonp:function(a,b){"JSONP"==a.method&&(a.client=ia);b()},json:function(a,b){var c=
a.headers.get("Content-Type")||"";u(a.body)&&0===c.indexOf("application/json")&&(a.body=JSON.stringify(a.body));b(function(a){return a.bodyText?w(a.text(),function(b){c=a.headers.get("Content-Type")||"";var f;if(!(f=0===c.indexOf("application/json"))){f=b.match(/^\[|^\{(?!\{)/);var g={"[":/]$/,"{":/}$/};f=f&&g[f[0]].test(b)}if(f)try{a.body=JSON.parse(b)}catch(h){a.body=null}else a.body=b;return a}):a})},form:function(a,b){"undefined"!==typeof FormData&&a.body instanceof FormData?a.headers.delete("Content-Type"):
u(a.body)&&a.emulateJSON&&(a.body=m.params(a.body),a.headers.set("Content-Type","application/x-www-form-urlencoded"));b()},header:function(a,b){var c=s({},p.headers.common,a.crossOrigin?{}:p.headers.custom,p.headers[G(a.method)]);r(c,function(b,c){a.headers.has(c)||a.headers.set(c,b)});b()},cors:function(a,b){if(L){var c=m.parse(location.href),d=m.parse(a.getUrl());if(d.protocol!==c.protocol||d.host!==c.host)a.crossOrigin=!0,a.emulateHTTP=!1,ha||(a.client=ga)}b()}};p.interceptors="before method jsonp json form header cors".split(" ");
["get","delete","head","jsonp"].forEach(function(a){p[a]=function(b,c){return this(s(c||{},{url:b,method:a}))}});["post","put","patch"].forEach(function(a){p[a]=function(b,c,d){return this(s(d||{},{url:b,method:a,body:c}))}});M.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},delete:{method:"DELETE"}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(N);return N});
